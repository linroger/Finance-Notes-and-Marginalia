---
cssclasses: academia
linter-yaml-title-alias: Deterministic Cash Flows
title: 1. Deterministic Cash Flows
tags:
  - cash-flow-notation
  - deterministic-cashflows
  - future-value
  - interest-theory
  - present-value
  - time-value-of-money
  - capital-budgeting
  - internal-rate-of-return
  - fixed-income-analysis
  - bond-valuation
aliases:
  - Cash Flow Streams
  - Deterministic Cash Flows
  - Time Value of Money
key_concepts:
  - Cash flow notation and streams
  - Simple vs compound interest rates
  - Effective interest rate calculation
  - Present and future value determination
  - Internal rate of return (IRR)
  - NPV vs IRR project evaluation
  - Macauley duration and modified duration
  - Convexity and immunization strategies
  - Term structure of interest rates
  - Spot rates and forward rates
  - Discount factors and forward rates
  - Option-adjusted spread (OAS)
  - Yield to maturity (YTM)
  - Annuities and perpetuities
  - Static spread methodology
---

# 1. Deterministic Cash Flows

## 1 Basic Theory Of Interest

### Cash-flow Notation

We use $(c_0, c_1, \ldots, c_i, \ldots, c_n)$ to denote a series of cash-flows where $c_i$ is received at time $t = i$. The length of a period, i.e. the interval of time between $t = i$ and $t = i + 1$, will usually be understood from the context. Negative cash-flows refer to cash payments. The initial cash-flow, $c_0$, will often be negative while the remaining cash-flows are positive. This situation models the cash-flows of many securities such as stocks and bonds. In such circumstances, $c_0$ denotes the cost of the security, while later cash-flows refer to dividends, coupons or sale receipts which are all positive.

## 1.1 Principal And Interest

**Definition 1**: If $A$ is invested in an account for $n$ periods with a simple interest rate of $r$ per period, then after $n$ periods the account will be worth $A(1 + r \cdot n)$.

**Definition 2**: If $A$ is invested in an account for $n$ periods with a compound interest rate of $r$ per period, then after $n$ periods the account will be worth $A(1 + r)^n$.

Interest rates are usually quoted on an annualized basis, even if the compounding period is less than a year. For example, the phrase "10% interest, compounded quarterly" implies that an investment of $A$ will be worth $A(1 + 0.1/4)[^4]$ one year later. Similarly, the phrase "10% interest, compounded semi-annually" implies that an investment of $A$ will be worth $A(1 + 0.1/2)[^2]$ after one year. In general, if there are $n$ compounding periods per year and the interest rate is $r$%, then an investment of $A$ will be worth $V = A(1 + r/n)^{mn}$ after $m$ years.

**Definition 3**: Continuous compounding refers to the situation where we let the length of the compounding period go to 0. That is, after $m$ years we see that an investment of $A$ will be worth $\lim_{n\to\infty} A(1 + r/n)^{mn} = Ae^{rm}$.

**Definition 4**: The effective interest rate is that rate which would produce the same result if compounding were done per year rather than per period.

So if the length of a compounding period is one year, the effective interest rate is the same as the quoted or nominal rate. For example, $A$ invested for 1 year at 10% interest, compounded quarterly, will be worth $1.1038A$ and so the effective interest rate is 10.38%.

## 1.2 Present And Future Values Of Cash Flow Streams

The value of $1$ today is clearly not the same as the value of $1$ next year. However, the simple concepts of present value and future value allow us to fairly compare cash flows that occur at different dates. For example, $1$ invested today at $t = 0$ would be worth $(1 + r)$ next year at $t = 1$ assuming annual compounding. So for $r > 0$, we can conclude that $1$ at $t = 0$ is worth more than $1$ at $t = 1$.

The compounding convention should always be observed so that if we are using quarterly compounding, for example, then $1$ invested at $t = 0$ would be worth $(1 + r/4)^{4}$ at $t = 1$.

We can then reverse the argument to say that $(1 + r)$ at $t = 1$ is worth $1$ at $t = 0$. That is, the *present value* of $(1 + r)$ at $t = 1$ is $1$. We say that we are *discounting* the cash flow at $t = 1$ back to $t = 0$. Likewise the future value at $t = 1$ of $1$ at $t = 0$ is $(1 + r)$.

More generally, the present value of the cash-flow, $(c_0, c_1, \ldots, c_n)$, is:

$$PV = c_0 + \frac{c_1}{1+r} + \frac{c_2}{(1+r)[^2]} + \ldots + \frac{c_n}{(1+r)^n}$$

where we have assumed compounding is done per period.

Likewise, the future value (at $t = n$) of the cash-flow is:

$$FV = PV(1+r)^n = c_0(1+r)^n + c_1(1+r)^{n-1} + c_2(1+r)^{n-2} + \ldots + c_n$$

You must be careful to observe the compounding convention. For example, if cash-flows occur yearly, interest rates are quoted on an annual basis (as usual) but are compounded $m$ times per year, then:

$$PV = c_0 + \frac{c_1}{(1+r/m)^m} + \frac{c_2}{(1+r/m)^{2m}} + \ldots + \frac{c_n}{(1+r/m)^{nm}} \tag{1}$$

and

$$FV = PV(1+r/m)^{nm}$$

Note that the individual cash flows, $c_i$, may be positive or negative.

## 1.3 Internal Rate Of Return (IRR)

**Definition 5**: Given a cash flow stream $(c_0, c_1, \ldots, c_n)$, the internal rate of return (IRR) is a number, $r$, that satisfies:

$$0 = c_0 + \frac{c_1}{1+r} + \frac{c_2}{(1+r)[^2]} + \ldots + \frac{c_n}{(1+r)^n} \tag{2}$$

- In most contexts, $c_0$ will be negative and we can interpret it as the price paid today for the cash flow stream $(c_1, \ldots, c_n)$. Then $r$ is just the number that makes this a "fair deal".

- If we let $z = 1/(1 + r)$ we can see that equation (2) is a polynomial of degree $n$. In general, it could have zero, one, or as many as $n$ real roots, so it is not always clear what the appropriate value of $r$ is. (But see the following exercise.)

**Exercise 1**: Show that when $c_0 < 0$ and $c_k \geq 0$ for all $k \geq 1$, there exists a unique positive root, $z^*$, to the equation $0 = c_0 + c_1z + c_2z[^2] + \ldots + c_nz^n$.

Furthermore, if $\sum_{k=0}^n c_k > 0$, then show the corresponding IRR, $r = 1/z^* - 1$, is positive.

- Even when we know that there exists a unique positive solution to equation (2), we usually have to solve for it numerically.

## 1.4 Project Evaluation Criteria: NPV Versus IRR

Many investment problems may be formulated as the problem of optimally allocating funds among a number of competing projects. The word *project* is significant as it usually implies that the projects cannot be scaled up or down. For example, a project may represent developing an oil field or introducing a new product to a market¹.

¹ *This statement assumes that there will be no inflation over the next year. If there is inflation then we should use real interest rates before concluding that $1$ today is worth more than $1$ next year; see Luenberger, Section 2.6. We will not consider inflation or related issues in this course.*

and the level of investment required for such projects is usually fixed². These investment allocation problems are often called *capital budgeting* problems and they constitute an important topic in corporate finance.

² *We have replaced the original footnote numbers to maintain sequential numbering.*

When faced with a capital budgeting problem, we need to be able to evaluate the competing projects so that the appropriate decision can be made. There are a number of different criteria available for evaluating projects but the two most common are *Net Present Value* (NPV) and *Internal Rate of Return* (IRR).

The NPV criterion amounts to selecting the project with the highest present value while the IRR criterion amounts to selecting the project with the highest IRR. It is widely believed by theorists that the NPV criterion, when correctly applied, is the correct criterion. However, conflicting recommendations can often be reconciled when common sense is applied.

A particular difficulty that arises when applying the NPV criterion is that of choosing the correct *discount factor*.

This problem does not arise when cash flows are deterministic, in which case the appropriate risk-free interest rates should be used for discounting. More generally, however, it is not always clear how to discount cash flows that are stochastic since the *riskiness* of the cash-flows also needs to be considered. This is an important problem in financial economics and financial engineering. In fact, the problem of pricing derivative securities can also be viewed as one of choosing the appropriate *stochastic discount factor*.

## 1.5 Further Examples And Applications

**Example 1 (Sunk Costs (Exercise 2.6 in Luenberger))**
A young couple has made a non-refundable deposit of the first month's rent (equal to $1{,}000) on a 6-month apartment lease. The next day they find a different apartment that they like just as well, but its monthly rent is only $900. They plan to be in the apartment only 6 months. Should they switch to the new apartment? What if they plan to stay 1 year? Assume an interest rate of 12%.

**Solution**: Different interpretations are possible here. For example, the deposit may *never* be refundable and therefore represent a brokerage fee that is paid up front. Alternatively, the deposit may be non-refundable only if the couple choose not to take the apartment. We will adopt the latter interpretation but note that regardless of the interpretation, the important aspect of this example is that sunk costs are exactly that: sunk!

(a) Compare the two alternatives.

[^1]: Stay in the original apartment, for an NPV, $C_1$, given by
$$C_1 = -\sum_{i=0}^{5}\frac{1000}{1.12^{i}} + \frac{1000}{1.12^{6}} \approx -4{,}222.$$

[^2]: Take the new apartment where we assume a security deposit is again required. The NPV then is
$$C_2 = -900 - \sum_{i=0}^{5}\frac{900}{1.12^{i}} + \frac{900}{1.12^{6}} \approx -4{,}700.$$

The couple should then take the $1{,}000 apartment.

(b) You can do this as an exercise. What result do you expect?

**Example 2 (An Appraisal (Exercise 2.9 in Luenberger))**
You are considering the purchase of a nice home. It is in every way perfect for you and in excellent condition, except for the roof. The roof has only 5 years of life remaining. A new roof would last 20 years, but would cost $20{,}000. The house is expected to last forever. Assuming that costs will remain constant and that the interest rate is 5%, what value would you assign to the existing roof?

**Solution**: We know a new roof costs $20{,}000 and that it lasts 20 years. We can therefore infer the value per year, $A$, of a roof by solving
$$20{,}000 = \sum_{i=0}^{19}\frac{A}{1.05^{i}}.$$

We find that $A = 1{,}528.4$. If $V$ is the value of a roof that has 5 years of life remaining, we can obtain that $V = 6{,}948$.

**Exercise 2** *Find an alternative method for solving the problem in Example 2?*

**Example 3 (Valuation of a Firm)** A simple model that is sometimes used to determine the value of a corporation is the *Gordon Growth Model*. It assumes that there is a constant interest rate, $r$, and that dividends are paid annually and grow at a rate of $g$.

The value of the firm may then be expressed as
$$V_0 = \frac{D_1}{1+r} + \frac{D_1(1+g)}{(1+r)[^2]} + \ldots = D_1\sum_{k=1}^{\infty}\frac{(1+g)^{k-1}}{(1+r)^k}$$

so that we obtain $V_0 = D_1/(r - g)$ for $g < r$.

- Clearly $V_0$ is very sensitive to changes in $g$ and $r$ when $g \approx r$. For this reason, the Gordon model has been used to provide some intuition for the volatility of growth stock prices; e.g. internet, biotech stocks.
- Obviously this model is very simple and is easy to generalize. For example, we could assume that dividends only grow for a certain fixed number of years, possibly beginning at some future date.
- More realistic models should of course assume that dividends are stochastic. Moreover, since dividend policy is set by directors, we might prefer to focus not on dividends, but instead on the underlying cash flows of the corporation.

## 2 Fixed Income Securities

Traditionally, the term *fixed income securities]]* refers to securities whose cash flows are fixed in advance and whose values therefore depend largely on the current level of interest rates]]. The classic example of a fixed income]] security is a bond which pays a fixed *coupon* every period until expiration when the final coupon and original *principal* is paid. A stock, on the other hand, is the classic example of a non-fixed income]] security as the dividend payments]] (if they exist) and stock value vary stochastically through time. It should be mentioned, however, that since interest rates]] vary stochastically through time, so too do bond prices. Furthermore, many securities (e.g. convertible bonds) have fixed-income and non-fixed-income characteristics so the distinction is often blurred.

## 2.1 Annuities, Perpetuities And Amortization

**Definition 6**: An annuity *is a contract that periodically pays a pre-determined amount of cash over some interval of time*. Traditionally annuity payments were made on an annual basis (hence the term 'annuity') and the interval of time was fixed. However, there are many variations. Pensions, for example, sometimes periodically pay a pre-determined amount of cash until a *random* time, $T$, usually the time of death of the recipient or the recipient's spouse.

**Definition 7**: A perpetual annuity *or a* perpetuity *pays a fixed amount of cash periodically for ever*. Perpetuities are rare but do exist in some countries. In the UK, for example, they are called *consols*.

A perpetuity is easily priced. Suppose it pays a fixed amount, $A$, per period beginning at the end of the current period, and that the interest rate per period is $r$. Then the price, $P$, of the perpetuity satisfies

$$P = \sum_{k=1}^{\infty}\frac{A}{(1+r)^k} = \frac{A}{r}. \tag{2}$$

The price of an annuity that pays $A$ per period beginning at the end of the current period for a total of $n$ periods, satisfies

$$P = \sum_{k=1}^{n}\frac{A}{(1+r)^k} = \frac{A}{r}\left(1-\frac{1}{(1+r)^n}\right). \tag{3}$$
As always, the formulae in (2) and (3) depend on the compounding convention and how interest rates]] are quoted. They may also be inverted to express $A$ as a function of $P$. For example, we may also write (3) in the form

$$A = \frac{r(1+r)^{n}P}{(1+r)^{n}-1}. \tag{4}$$

This form of the annuity pricing]] formula is useful for determining the periodic payments that correspond to a fixed value, $P$. It is also useful for *amortization*, which is the process of substituting periodic cash payments for an obligation today.

## 2.2 Yield-To-Maturity

The yield-to-maturity (YTM) of a bond is the interest rate (always quoted on an annual basis) that makes the present value of all associated future payments equal to the current value of the bond. In particular, the YTM is exactly the IRR of the bond at the current price. The YTM, $\lambda$, therefore satisfies

$$P = \sum_{k=1}^{n}\frac{C/m}{[1+(\lambda/m)]^{k}} + \frac{F}{[1+(\lambda/m)]^{n}} = \frac{C}{\lambda}\left[1 - \frac{1}{[1+(\lambda/m)]^{n}}\right] + \frac{F}{[1+(\lambda/m)]^{n}} \tag{5}$$

where $F$ is the face value of the bond, $C$ is the annual coupon payment, $m$ is the number of coupon payments]] per year, $n$ is the exact total number of coupon payments]] remaining, and it is assumed that compounding is done $m$ times per year.

A lot of information is present in equation (5). In particular, it may be seen that $P$ is a decreasing function of $\lambda$.

When $\lambda = 0$, the bond price is simply the sum of the future payments, while if $\lambda = C/F$, then we obtain $P = F$. Different bonds can have different yields but they generally track one another quite closely, particularly when the bonds have similar maturities. It should also be emphasized that bond yields, and therefore bond prices, generally change stochastically through time. Hence bonds are *risky* securities, despite the fact that their payment streams are fixed⁷.

⁷See Section 3.4 of Luenberger for further details regarding yield-to-maturity.

## 2.3 Macauley Duration

Consider a financial security that makes payments $m$ times per year for a total of $n$ periods. Then if $\lambda$ is the YTM of the security, we define its *Macauley duration]]*, $D$, to be

$$D=\frac{\sum_{k=1}^{n}(k/m)c_{k}/\left[1+(\lambda/m)\right]^{k}}{P} \tag{6}$$

where $P$ is the present value of the security, and $c_k$ is the payment made in the $k$th period. Note that $D$ is a weighted average of the times at which the payments are made, where the weight at period $k$ is the contribution of $c_k$ to the present value of the security. In particular, time and duration]] have the same units and $D$ satisfies $0 \leq D \leq T$ where $T$ is the maturity time]] of the instrument.

**Exercise 3** *What is the duration]] of a zero-coupon bond?*

The duration]] of a security may be interpreted as the length of time one has to wait in order to receive the security's payments⁸. We will soon see how it gives a measure of interest rate sensitivity]] and how it can be used to immunize a bond against adverse interest rate movements. In the case of a bond that has a coupon *rate* of $c$ per period and yield $y$ per period⁹, the summation in (6) may be simplified to obtain

$$D = \frac{1+y}{my} - \frac{1+y+n(c-y)}{mc\left[(1+y)^{n}-1\right]+my}.$$

## 2.4 Convexity

We define the *convexity]]*, $C$, of a financial security with YTM $\lambda$ to be

$$C = \frac{1}{P}\frac{d^{2}P}{d\lambda^{2}}. \tag{8}$$

For the financial security described above we obtain¹⁰

$$C = \frac{1}{P[1+(\lambda/m)]^{2}}\sum_{k=1}^{n}\frac{k(k+1)}{m^{2}}\frac{c_{k}}{[1+(\lambda/m)]^{k}}. \tag{9}$$

We will now see how duration and convexity]] may be used to immunize a bond against adverse changes in interest rates]], or to be more precise, yield-to-maturity.

## 2.5 Immunization

Let $P(\lambda)$ be the price of a financial security (or a portfolio]] of financial securities) when the YTM is $\lambda$. Then a simple second-order Taylor expansion implies (check!)

$$P(\lambda+\Delta\lambda) \approx P(\lambda) + \Delta\lambda\frac{dP}{d\lambda}(\lambda) + \frac{(\Delta\lambda)^{2}}{2}\frac{d^{2}P}{d\lambda^{2}}(\lambda) \tag{10}$$

$$= P(\lambda) - D_{M}P(\lambda)\Delta\lambda + \frac{P(\lambda)C}{2}(\Delta\lambda)^{2}$$

where

$$D_{M}:=\frac{D}{1+\lambda/m}$$

is called the *modified duration]]*¹¹.

Consider now a portfolio]] of $n$ securities where we use $P_k$, $D_k$ and $C_k$ to denote the present value, duration and convexity]] of the $k$th security, $1 \leq k \leq n$. Let $P_p$, $D_p$ and $C_p$ denote the present value, duration and convexity]] of the overall portfolio]]. It is easy to check (do it) that $P_p$, $D_p$ and $C_p$ satisfy

$$P_{p} = \sum_{k=1}^{n}P_{k}$$

$$D_{p} = \sum_{k=1}^{n}\frac{P_{k}}{P_{p}}D_{k}$$

$$C_{p} = \sum_{k=1}^{n}\frac{P_{k}}{P_{p}}C_{k}.$$

Suppose now that we own a portfolio]] (which may have negative value) of fixed income securities]], and the current value of this portfolio]] is $P_o$. As $\lambda$ changes, so will $P_o$, but in many circumstances we would like $P_o$ to remain constant and not change as $\lambda$ changes. We can effectively arrange for this by adding securities to our portfolio]] in such way that we are *immunized* against changes in $\lambda$.

The Taylor expansion in (10) implies that we can do this by adding securities to our portfolio]] in such a way that the combined present value, duration and convexity]] of the new securities match the present value, duration and convexity]] of the original portfolio¹². To do this, we generally need to add at least three securities to our portfolio]]. If we just use duration]] to immunize, then we generally only need to add two securities to the portfolio]]. The following example illustrates how to do this.

## Example 4 (Immunizing A Cash Flow)

Suppose the current YTM is 8% and we have an *obligation*¹³ to pay 1 million dollars in 7 years. We wish to immunize this obligation by purchasing a portfolio]] of bonds in such a way that the value, duration and convexity]] of the obligation and bond portfolio]] coincide. Because this involves three equations, we will need at least three bonds in our portfolio]]. There are two 6-year bonds, with coupon rates 7% and 10%, and a 9-year bond with coupon rate 2%, available. Let $P_1$, $P_2$ and $P_3$ be the dollar amount invested in each of the three bonds, respectively. We must then solve the following equations:

$$P_o = P_1 + P_2 + P_3 \tag{11}$$

$$D_o = \frac{P_1}{P_o}D_1 + \frac{P_2}{P_o}D_2 + \frac{P_3}{P_o}D_3 \tag{12}$$

$$C_o = \frac{P_1}{P_o}C_1 + \frac{P_2}{P_o}C_2 + \frac{P_3}{P_o}C_3 \tag{13}$$

where $P_o$, $D_o$, and $C_o$ represent the present value, duration, and convexity of the obligation, and $P_i$, $D_i$, and $C_i$ represent the same for the $i$th bond. We then invest the calculated amounts in the three bonds. Moreover, we have arranged it so that the value, duration and convexity]] of the two sub-portfolios coincide with one another. As a result, if $\lambda$ changes then the values of the two sub-portfolios will change by equal amounts according to (10). However, the changes will be in *opposite* directions and therefore cancel each other because the first sub-portfolio]] is an *obligation*.

These immunization methods are used a great deal in practice and have proven successful at immunizing portfolios of fixed income securities]] against adverse interest rate movements. This is despite the fact that interest rates]] are assumed to be flat and only parallel shifts in interest rates]] are assumed to be possible. Such assumptions are not at all consistent with reality and they do not allow for a satisfactory theory of interest rates]].

## 2.6 Further Examples And Applications

**Example 5 (Callable Bond (Exercise 3.5 in Luenberger))**
The Z corporation issues a 10%, 20-year bond at a time when yields are 10%. The bond has a call provision that allows the corporation to force a bond holder to redeem his or her bond at face value plus 5%. After 5 years the corporation finds that exercise of this call provision is advantageous. What can you deduce about the yield at that time? (Assume one coupon payment per year.)

**Solution**: If exercise of the call provision is advantageous, then it must be the case (why?) that

$$\sum_{k=1}^{15}\frac{0.1}{(1+\lambda)^{k}} + \frac{1}{(1+\lambda)^{15}}>1.05.$$

In particular, it implies $\lambda < 9.366\%$.

**Example 6 (Need for a Better Theory! (Exercise 3.16 in Luenberger))**
Suppose that an obligation occurring at a single time period is immunized (matching duration]], but not convexity]]) against interest rate changes]] with bonds that have only nonnegative cash-flows. Let $P(\lambda)$ be the value of the resulting portfolio]], including the obligation, when the interest rate is $r + \lambda$ and $r$ is the current interest rate. By construction $P(0) = 0$ and $P'(0) = 0$. We will show that $P''(0) \geq 0$, i.e. $P(0)$ is a local minimum. With a yearly compounding convention, the discount factor]] for time $t$ is $d_t(\lambda) = (1 + r + \lambda)^{-t}$.

Without loss of generality it is assumed that the magnitude of the obligation is 1 and it is due at time $\overline{t}$.

If $c_t$ are the cash-flows of the bonds that have been used to immunize the obligation, the following equations must be satisfied (why?):

$$P(0)=\sum_{t}c_{t}d_{t} - d_{\overline{t}} = 0 \tag{14}$$

$$P^{\prime}(0)(1+r)=\sum_{t}tc_{t}d_{t}-\overline{t}d_{\overline{t}} = 0. \tag{15}$$

(a) Show that for all values of $\alpha$ and $\beta$ there holds

$$P^{\prime\prime}(0)(1+r)^{2} = \sum_{t}(t^{2}+\alpha t+\beta)c_{t}d_{t} - (\overline{t}^{2}+\alpha\overline{t}+\beta)d_{\overline{t}}. \tag{16}$$
(b) Show that $\alpha$ and $\beta$ can be selected so that the function $t[^2] + \alpha t + \beta$ has a minimum at $\overline{t}$ and has a value of 1 there. Use these values to conclude that $P''(0) \geq 0$.

**Solution**
(a) Use equations (14) and (15) to obtain (16).

(b) Choose (why?) $\alpha = -2\overline{t}$ and $\beta = 1 + \overline{t}[^2]$. Using (14) we therefore see that $P''(0) \geq 0$.

**Remark 1** *The result of the previous example is significant. It seems to say that we can make money from nothing (arbitrage]]) if we assume that interest rates]] can only move in parallel. While duration and convexity]] are used a lot in practice and often result in a well immunized portfolio]], this result highlights the need for a more sophisticated theory of interest rates]]. See Example 9 for a more explicit example where a model that only permits parallel movements in interest rates]] affords an arbitrage]] opportunity.*

## 3 The Term Structure Of Interest Rates

Until now, we have discussed a bond's yield-to-maturity and how this concept, together with duration and convexity]], may be used to immunize or *hedge* the cash-flow of a fixed income]] portfolio]]. We have also mentioned that bond prices in the real world are stochastic (hence the need for immunization techniques), but we have not discussed the precise stochastic nature of bond price *processes*. Any theory of these processes, and the stochastic evolution of interest rates]] more generally, should possess at least two qualities: it should provide an adequate fit to real observed data, and it should preclude arbitrage]] possibilities. Towards this end, it is necessary to develop a much more sophisticated theory of interest rates]]. This need is evidenced in part by the existence in the real world of bonds with very different YTM's, and by Examples 6 and 9 where we see that arbitrage opportunities]] can exist in the YTM framework or frameworks where only parallel movements in interest rates]] are possible. In order to develop a more sophisticated theory of interest rates]], we first need to study the term structure of interest rates]].

## 3.1 The Term Structure, Discount Factors And Present Values

If a bank lends you money for one year and lends money to someone else for ten years, it is very likely that the rate of interest charged for the one-year loan will differ from that charged for the ten-year loan. Term-structure theory has as its basis the idea that loans of different maturities should incur different rates of interest. This basis is consistent with what we observe in practice and allows for a much richer and more realistic theory than that provided by the *yield-to-maturity* (YTM) framework.

We will often assume that there are $m$ compounding periods per year, but it should be clear what changes need to be made for continuous-time models]] and different compounding conventions. For example, we will also consider models where we compound on a per period basis. Time may be measured in periods or years, but it should be clear from the context what convention we are using.

**Spot Rates**: Spot rates are the basic interest rates]] that define the term structure]]. Usually defined on an annual basis, the spot rate]], $s_t$, is the rate of interest charged for lending money from today (t = 0) until time $t$.

In particular, this implies that if you lend $A$ dollars for $t$ years¹⁵ today, you will receive $A(1 + s_t/m)^{mt}$ dollars when the $t$ years have elapsed. The *term structure of interest rates]]* may be defined to constitute the sequence of spot rates, $\{s_{t_k}: k = 1, \ldots, n\}$, if we have a discrete-time model with $n$ periods. Alternatively, in a continuous-time model the set $\{s_t: t \in [0, T]\}$ may be defined to constitute the term-structure. The *spot rate]] curve* is defined to be a graph of the spot rates plotted against time. In practice, it is almost always upwards sloping in which case $s_{t_i} < s_{t_j}$ whenever $i < j$.

**Discount Factors**: As before, there are discount factors corresponding to interest rates]], one for each time, $t$.

The discount factor]], $d_t$, for a deterministic cash-flow occurring $t$ years from now is given by

$$d_t := \frac{1}{(1+s_t/m)^{mt}}.$$

Using these discount factors we can compute the present value, $P$, of any *deterministic* cash flow]] stream, $(x_0, x_1, \ldots, x_n)$. It is given by $P = x_0 + d_1x_1 + d_2x_2 + \ldots + d_nx_n$.

¹⁵We assume that $t$ is a multiple of $1/m$ both here and in the definition of the discount factor]], $d_t$, above.

where it is understood that $x_i$ is received at time $t_i$ and $d_i := d_{t_i}$.

**Example 7** In practice it is quite easy to determine the spot rate]] by observing the price of U.S. government bonds. Government bonds should be used as they do not bear *default risk]]* and so the contracted payments are sure to take place. For example the price, $P$, of a 2-year zero-coupon government bond with face value $100, satisfies $P = 100/(1 + s_2)[^2]$ where we have assumed an annual compounding convention.

**Forward Rates**: A *forward rate]]*, $f_{t_1, t_2}$, is a rate of interest¹⁶ that is agreed upon today for lending money from dates $t_1$ to $t_2$ where $t_1$ and $t_2$ are *future* dates. It is easy using arbitrage arguments]] to compute forward rates given the set of spot interest rates]]. For example, if we express time in periods, have $m$ periods per year, compound per period and quote rates on an annual basis, then we have

$$(1+s_j/m)^j = (1+s_i/m)^i (1+f_{i,j}/m)^{j-i} \tag{17}$$

where $i < j$.

**Exercise 4** Prove that (17) must hold by using an arbitrage]] argument. (It is very important that you be able to construct these arguments. After a while you should be able to write equations such as (17) that correspond to different compounding conventions without explicitly needing to go through the arbitrage]] argument.)

**Forward Discount Factors**: We can also discount a cash flow]] that occurs at time $j$ back to time $i < j$. The correct discount factor]] is

$$d_{i,j} := \frac{1}{(1+f_{i,j}/m)^{j-i}}$$

where again time is measured in periods and there are $m$ periods per year. In particular, the present value at date $i$ of a cash-flow, $x_j$, that occurs at date $j > i$, is given by $d_{i,j} x_j$. It is also easy to see that these discount factors satisfy $d_{i,k} = d_{i,j} d_{j,k}$ for $i < j < k$ and they are consistent with earlier definitions.

**Short Forward]] Rates**: The term structure of interest rates]] may equivalently be defined to be the set of forward rates. There is no inconsistency in this definition as the forward rates define the spot rates and the spot rates define the forward rates. We also remark that in an $n$-period model, there are $n$ spot rates and $n(n + 1)/2$ forward rates. The set¹⁷ of short forward]] rates, $\{r^f_k: k = 1, \ldots, n\}$, is a particular subset of the forward rates that also defines the term structure]]. The short forward]] rates are defined by $r^f_k := f_{k,k+1}$ and may easily be shown to satisfy

$$(1+s_k)^k = (1+r_0^f)(1+r_1^f)\ldots(1+r_{k-1}^f)$$

if time is measured in years and we assume $m = 1$.

**Example 8 (Constructing a Zero-Coupon Bond)**
Two bonds, A and B both mature in ten years time. Bond A has a 7% coupon and currently sells for $97, while bond B has a 9% coupon and currently sells for $103. The face value of both bonds is $100. Compute the price of a ten-year zero-coupon bond that has a face value of $100.

**Solution**: Consider a portfolio]] that buys negative (i.e. is short) seven bonds of type B and buys nine of type A.

The coupon payments]] in this portfolio]] cancel and the terminal value at $t = 10$ is $200. The initial cost is
$-7 \times 103 + 9 \times 97 = 152$. The cost of a zero with face value equal to $100 is therefore $76. (The 10-year spot rate]], $s_{10}$, is then equal to $2.78\%$).

**Remark 2** Note that once we have the zero-coupon bond price we can easily determine the corresponding spot rate]]. (This was the point of Example 7.)

We now demonstrate that even simple and apparently reasonable term-structure models can contain arbitrage opportunities]].

**Example 9 (Arbitrage]] in a 1-Period Model)**
Suppose at $t = 0$ the 1-year, 2-year and 3-year spot rates are given by 10%, 11% and 12%, respectively. One year from now the 1-year, 2-year and 3-year spot rates will either have increased to [11%, 12%, 13%] or decreased to [9%, 10%, 11%]. Note that this example assumes that only parallel movements in the spot rates can occur.

If we assume continuous compounding]], then we can see that the forward rate]], $f_{1,2}$, at $t = 0$ is given by

$$f_{1,2} = \frac{2(0.11) - 1(0.10)}{1} = 12\%.$$

This forward rate]], however, is higher than either of the possible 1-year spot rates prevailing at $t = 1$ and so there is an arbitrage]] opportunity.

**Exercise 5** Construct a trading strategy that would take advantage of the arbitrage]] opportunity identified in Example 9.

## 3.2 Term Structure Explanations

There are three well known hypotheses that are commonly used for explaining the observed term structure of interest rates]]: the *expectations hypothesis]]*, the *liquidity hypothesis]]* and the *market segmentation hypothesis*.

**Expectations Hypothesis]]**: The expectations hypothesis]] states that the forward rates, $f_{i,j}$, are simply the spot rates, $s_{j-i}$, that are expected to prevail at time $i$. While this has some intuitive appeal, if the hypothesis was true then the fact that the spot rate]] curve is almost always upwards sloping would mean (why?) that the market is almost always expecting spot interest rates]] to rise. This is not the case.

**Liquidity Preference Hypothesis]]**: This hypothesis states that investors generally prefer shorter maturity bonds to longer maturity bonds. This is because longer-maturity bonds are generally more sensitive to changes in the general level of interest rates]] and are therefore riskier. In order to persuade risk-averse individuals to hold these bonds, they need to be sold at a discount, which is equivalent to having higher interest rates]] at longer maturities.

**Market Segmentation Hypothesis]]**: This states that interest rates]] at date $t_1$ have nothing to do with interest rates]] at date $t_2$ for $t_1 \neq t_2$. The rationale for this is that short-term securities might be of interest to one group of investors, while longer term securities might be of interest to an altogether different group. Since these investors have nothing in common, the markets for short- and long-term securities should be independent of one another and therefore the interest rates]] that are set by the market forces of supply and demand, should also be independent. This explanation is not very satisfactory and explains very little about the term structures that are observed in practice.

It is commonly perceived that the term structure]] is reasonably well explained by a combination of the expectations]] and liquidity]] preference]] hypotheses.

## 3.3 Duration And Immunization

We saw earlier how to immunize portfolios against changes in the YTM when we assumed that a bond's YTM captured all the relevant economic information. Now we have progressed to a term structure of interest rates]], and we know how to price a bond given the current term structure]] without making any reference to the bond's YTM. In this context, however, we could still define a bond's duration and convexity]], and use them to immunize against, for example, *parallel* movements in the term structure]]. The immunization procedure is very similar¹⁸ to the one described earlier in the YTM context.

¹⁸Details can be found in Section 4.8 of Luenberger.

## 3.4 Further Examples And Applications

**Example 10 (Floating Rate Bonds)** A floating rate bond is the same as a regular bond except that the coupon payments]] at the end of a period are determined by the prevailing short rate]] at the beginning of the period. Since the term structure]] varies stochastically through time, this implies that the payment stream of a floating rate bond is also stochastic.

Nonetheless, it is easy to price such a bond at a reset point by using a simple dynamic programming type argument. In fact, at any such reset point, it can be seen that the value of the floating rate bond is equal to the face value, or par.

The argument works by noting that at the final reset point, the present value must be (why?) par. The same argument can then be iterated back to date $t = 0$.

**Remark 3** *The above comment regarding the price of floating rate bonds can be useful for pricing]] interest rate swaps.*

**Example 11 (Mortgage Mathematics (Exercise 4.14 in Luenberger))**
This example is an introduction]] to the mathematics of mortgage-backed-securities (MBS's), a class of derivative instruments that play an enormous role in the U.S. mortgage industry and more recently, in the global financial crisis]]. They are credited with enabling a more efficient allocation of risk and in the process, enabling consumers to obtain much cheaper mortgages.

We assume the initial value of the mortgage is $M = M(0)$, that equal periodic payments of size $B$ are made, and that the interest rate is $r$ per period. We also assume that there are a total of $n$ periods in the mortgage and we use $M(k)$ to denote the mortgage principal after the $k$th period. Note that after the $n$ payments of size $B$, the mortgage principal and interest have all been paid. This means that each payment, $B$, pays both interest and some of the principal. With this in mind, we can see that $M(k)$ satisfies $M(k) = (1 + r)M(k - 1) - B$ for $k = 0, 1, 2, \ldots$

This equation can be solved (how?) to obtain

$$M(k) = (1+r)^{k}M - \left[\frac{(1+r)^{k}-1}{r}\right]B.$$

Since $M(n) = 0$ we have (see also equation (4))

$$B = \frac{r(1+r)^{n}M}{(1+r)^{n}-1}.$$

We can therefore substitute for $B$ and write

$$M(k) = M\frac{(1+r)^{n}-(1+r)^{k}}{(1+r)^{n}-1}.$$

Since we know $M(k - 1)$ we can compute the interest, $I(k) = rM(k - 1)$, on $M(k - 1)$ that would be due in the next period. This also means that we can interpret the $k$th payment as paying $B - rM(k - 1)$ of the remaining principal.

(a) Find the present value, $V$, (at rate $r$) of the principal payment stream in terms of $B$, $r$, $n$, $M$.

(b) Find $V$ in terms of $r$, $n$, $M$ only.

(c) What is the present value, $W$, of the interest payment stream?

(d) What is the value of $V$ as $n \to \infty$?

(e) Which stream do you think has the larger duration]]: principal or interest?

**Solution**
(a) The present value, $V$, of the principal payment stream is given by

$$V = \sum_{k=1}^{n}\frac{B - rM(k-1)}{(1+r)^k}$$

Does this agree with your intuition when $n = 1$?

(b) Substitute for $B$ to obtain

$$V = \frac{rnM}{(1+r)[(1+r)^{n}-1]}.$$

(c) The present value, $W$, of the interest payment stream satisfies

$$W = \sum_{k=1}^{n}\frac{I(k)}{(1+r)^{k}} = M\frac{(1+r)^{n+1}-1-r-nr}{(1+r)[(1+r)^{n}-1]}.$$

Does this agree with your intuition when $n = 1$?

(d) Check that $V \to 0$ as $n \to \infty$.

(e) The principal payment stream has longer duration]]. Why? What does this say about the relative riskiness]] of the principal and interest payment streams?

Dynamic programming (DP) is a very useful tool in financial engineering. It may be used whenever a decision-maker needs to make a sequence of decisions through time. In such circumstances, the decision maker usually needs to find a *strategy* that will describe her decision in each possible state of the world. DP¹⁹ is usually applied when there is uncertainty in the system but it also applies in deterministic settings and that is the setting of Example 12 below.

## Example 12 (Operating A Factory)

You own a lease on a factory that expires worthless exactly three years from now. Each year the factory earns profits that are equal to the value of the factory that prevailed at the beginning of the year. At the end of each year you can either withdraw these profits or reinvest them in the factory, thereby doubling its value. The current value of the factory is $5 million and the interest rate is 20% per year. What strategy should you adopt?

**Solution** The lattice below describes the various possibilities that can occur depending on the choices you make. An upwards sloping arc corresponds to reinvesting the profits, whereas a horizontal arc corresponds to withdrawing the profits at the end of the year. The value at a node represents the value of the factory at that node.

!12_image_0.png]]

In the lattice, we work backwards from $t = 3$ to determine the optimal decision at each node. (The value of each node represents the value of the lease at the beginning of that period.) At $t = 3$ the lease expires worthless and so in the lattice below we place a zero at each terminal node. At $t = 2$ it is clearly optimal to choose to take the profits at the end of the period. Since these profits are received at the end of the node, their value must be discounted backwards by $1/(1 + r)$ to $t = 2$. For example, we obtain $20/1.2 = 16.67$ at the uppermost node at $t = 2$. At $t = 1$, for example, the value of the lease at the lowermost node is given by $\max(8.33, 5 + 4.17)/1.2 = 7.64$. Continuing in this manner we find that the initial value of the lease is $12.73 million and that the optimal strategy is to reinvest the profits after the first period and to withdraw the profits after each of the remaining two periods.

!13_image_0.png]]

!13_image_1.png]]

!13_image_2.png]]

**Remark 4** Note that in Example 12 the optimal strategy is the same for all values of $r > 0$.

**Exercise 6** *Suppose you have an option to sell the lease at $t = 1$ for $11 million. What is the optimal strategy now? Is it still true that the optimal strategy is independent of $r$ for $r > 0$?*

Even in the simple deterministic setting of these notes, it is possible to construct many more examples ranging from capital-budgeting applications to problems in asset-liability management]]. Standard mathematical tools for solving these problems include linear, integer and dynamic programming.

## 4 The Yield,  Static And Option-Adjusted Spreads

When evaluating Corporate Bonds,  investors often wish to compare them with similar treasury bonds or (credit)
risk-free securities. Rather than comparing prices which are difficult to interpret,  investors prefer to compare yields or the *spread* between the corporate and risk-free securities. There are three spreads in particular that frequently arise: (i) the yield spread (ii) the static spread and (iii) the option-adjusted spread.

## 4.1 The Yield Spread

The yield spread of a corporate bond is calculated simply as the difference between the yield-to-maturity of the bond and the yield-to-maturity of a treasury bond of comparable maturity. While this spread will generally be positive due to credit risk,  liquidity risk etc,  it has many weaknesses. The principal weakness is that it fails to take into consideration the term structure of interest rates and the difference in intermediate cash-flows of the two bonds. And any embedded optionality in the corporate bond would also be ignored by such a measure.

## 4.2 The Static Spread

A better way to evaluate the corporate bond is to compare it to a Treasury security with the same cash-flows. If such a Treasury security does not exist (as will typically be the case) then a portfolio of Treasuries can be constructed in such a way that the portfolio has the same set of cash-flows as the corporate bond. We could then compare the price of the corporate bond,  P
(c)
[^0]: ,  with the price,  P
(T s)
[^0]: ,  of the risk-free portfolio. A more informative measure is given by the static spread,  s,  which satisfies
$$P_{0}^{(c)}\ =\ \sum_{t=1}^{n}\frac{\mathsf{C F}_{t}}{(1+R_{t}^{T s}+s)^{t}}$$

where CFt is the time t cash-flow of the corporate bond and RT s tis the time 0 risk-free spot rate for maturity t.

A potential investor in the corporate bond can then decide whether s is sufficiently large to compensate him for bearing the credit and liquidity risk of the corporate bond. One problem with the static spread,  however,  is that it does not account for the optionality that is present in many Corporate Bonds.

## 4.3 [](7.%20Black%20Scholes%20Model.md#2%20The%20Volatility%20Surface | The%20Option-Adjusted%20Spread%20(OAS))

Many Corporate Bonds such as callable or putable bonds have some degree of optionality. They can be priced,  for example,  using a lattice model. If the lattice model is built and calibrated using risk-free interest rates,  then the lattice price of the bond will not coincide with the market price of the bond. This issue can be overcome by adding the option-adjusted spread (OAS) to the short rate at each node of the lattice. The OAS is chosen so that the resulting price of the corporate bond coincides with the market price. As before,  the OAS spread reflects the credit and liquidity risk that any investor in the bond must bear. If,  however,  the lattice was constructed using the bond issuer's spot rate curve,  then the OAS would then reflect only the liquidity risk of the bond. If the bond was perceived as having no liquidity risk,  then the OAS could be used to gauge the richness or *cheapness* of the bond. Note that the dollar value of the option can be calculated as the difference between the bond price and the price of the same bond but with the optionality excluded. The option price21 in basis points could then be defined as the difference in the static spread (of the bond without optionality) and the OAS spread. The OAS spread is used throughout the fixed income world including,  for example,  the mortgage-backed securities market.

## 4.4 [](7.%20Black%20Scholes%20Model.md#The%20Greeks | Effective%20Duration%20And%20Effective%20Convexity)

When dealing with bonds that have some degree of optionality,  it is common to use appropriately adjusted definitions of duration and convexity. The adjusted definitions take account of the fact that when the yield curve changes,  it is possible that the cash-flows also change (due to the optionality feature of the bond). This leads to effective duration and effective convexity. The difference between the duration and effective duration of a bond can be dramatic. For example,  many mortgage-backed securities.md) (MBS's) are very sensitive to *prepayment* assumptions which in turn depend strongly on the yield curve. Any change in the yield curve will change the prepayment rate and therefore the cash-flow of the MBS. The usual definition of duration would not reflect this change in the cash-flow and instead,  would only change the discount factors. The effective duration and effective convexity are then the appropriate sensitivities for fixed income securities%20-%20Definition,%20Formula,%20and%20Example.md) that include some degree of optionality.

## References

Brealey,  R.A. and S.C.Myers. 2007. *Principles of Corporate Finance*,  McGraw-Hill,  New York. Fabozzi,  F.J. 2004. *Bond Markets,  Analysis and Strategies*,  Pearson Prentice Hall,  New Jersey. Luenberger,  D.G. 1998. *Investment Science*,  Oxford University Press,  New York.
